(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,a,t){e.exports=t(28)},22:function(e,a,t){},27:function(e,a,t){},28:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),c=t(7),r=t(10),l=t(8),o=t.n(l),i=t(2),m=t.n(i),d=(t(20),t(21),t(22),t(9)),E=t.n(d);var u=function(){const[e,a]=Object(n.useState)(""),[t,c]=Object(n.useState)([]),[l,i]=Object(n.useState)([]),[d,u]=Object(n.useState)([]),[N,p]=Object(n.useState)(new Date),[k,f]=Object(n.useState)(!1),[h,D]=Object(n.useState)(new Date),[b,g]=Object(n.useState)(null),[w,v]=Object(n.useState)("");Object(n.useEffect)(()=>{(async()=>{try{if("Notification"in window){const e=await Notification.requestPermission();console.log("Notification permission status:",e)}}catch(e){console.error("Error requesting notification permission:",e)}})()},[]),Object(n.useEffect)(()=>{const e=localStorage.getItem("taskReminders");e&&i(JSON.parse(e).map(e=>({...e,date:new Date(e.date),notified:e.notified||!1})))},[]),Object(n.useEffect)(()=>{localStorage.setItem("taskReminders",JSON.stringify(l))},[l]);const S=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const a=new Date;l.forEach(t=>{const n=new Date(t.date);if(e)!t.notified&&a>=n&&(y(t),T(t,n));else{const e=Math.abs(a-n)/6e4;!t.notified&&a>=n&&e<=1&&(y(t),T(t,n))}})},T=(e,a)=>{i(t=>t.map(t=>t.task===e.task&&new Date(t.date).getTime()===a.getTime()?{...t,notified:!0}:t))};Object(n.useEffect)(()=>{S(!1);const e=setInterval(()=>S(!1),5e3);return()=>clearInterval(e)},[l]);const y=e=>{if("Notification"in window)if("granted"===Notification.permission)try{const t=new Notification(`Task Reminder: ${e.header}`,{body:`It's time for: ${e.task}\nDuration: ${e.duration}`,icon:"/favicon.ico",badge:"/favicon.ico",requireInteraction:!0,silent:!1,timestamp:(new Date).getTime()});t.onclick=(()=>{window.focus(),t.close()}),new Audio("/notification-sound.mp3").play().catch(e=>console.log("Error playing sound:",e))}catch(a){alert(`Task Reminder: ${e.header}\n${e.task}`)}else alert(`Task Reminder: ${e.header}\n${e.task}`);else alert(`Task Reminder: ${e.header}\n${e.task}`)},Y=async t=>{if("Enter"===t.key||"click"===t.type){if(!e)return void alert("Please enter a task name.");try{const t=await fetch("https://stepwise.onrender.com/generate_tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task_name:e})});if(t.ok){const n=(await t.json()).subtasks.map(a=>({...a,header:e}));c(n),u(n),v(e),a("")}else alert("Error generating tasks. Please try again.")}catch(n){console.error(n),alert("Error generating tasks. Please try again.")}}},O=e=>{const a=m()(e.date).format("YYYYMMDDTHHmmss"),t=m()(e.date).add(e.duration,"hours").format("YYYYMMDDTHHmmss"),n=`BEGIN:VCALENDAR\nVERSION:2.0\nBEGIN:VEVENT\nSUMMARY:${e.header}: ${e.task}\nDTSTART:${a}\nDTEND:${t}\nDESCRIPTION:${e.task}\nEND:VEVENT\nEND:VCALENDAR`;C(n,`${e.task}.ics`)},R=e=>{let a="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Your Company//Your Product//EN\n";e.forEach(e=>{const t=m()(e.date).format("YYYYMMDDTHHmmss"),n=m()(e.date).add(e.duration,"hours").format("YYYYMMDDTHHmmss");a+=`BEGIN:VEVENT\nSUMMARY:${e.header}: ${e.task}\nDTSTART:${t}\nDTEND:${n}\nDESCRIPTION:${e.task}\nUID:${e.id}@yourapp.com\nSEQUENCE:0\nSTATUS:CONFIRMED\nEND:VEVENT\n`}),C(a+="END:VCALENDAR",`${e[0].header}_tasks.ics`)},C=(e,a)=>{const t=new Blob([e],{type:"text/calendar;charset=utf-8"}),n=URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)};return s.a.createElement("div",{className:"app-container"},s.a.createElement("header",{className:"app-header"},s.a.createElement("img",{src:E.a,alt:"StepWise Logo",className:"logo"})),s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"left-panel"},s.a.createElement("div",{className:"calendar-section"},s.a.createElement(r.a,{onChange:p,value:N,className:"calendar"})),s.a.createElement("div",{className:"reminders-section"},s.a.createElement("h3",null,"Scheduled Tasks"),s.a.createElement("div",{className:"reminders-list"},l.map((e,a)=>s.a.createElement("div",{key:a,className:"reminder-item"},s.a.createElement("p",{className:"reminder-header"},e.header),s.a.createElement("p",{className:"reminder-task"},e.task),s.a.createElement("p",{className:"reminder-duration"},e.duration),s.a.createElement("p",{className:"reminder-date"},m()(e.date).format("MMMM D, YYYY h:mm A"))))))),s.a.createElement("div",{className:"center-panel"},s.a.createElement("h1",{className:"main-heading"},"We Got a Plan For You"),s.a.createElement("div",{className:"search-container"},s.a.createElement("input",{type:"text",value:e,onChange:e=>a(e.target.value),onKeyDown:Y,placeholder:"Enter your project/task name",className:"search-input"}),s.a.createElement("button",{onClick:Y,className:"search-button"},"Plan It")),t.length>0&&s.a.createElement("div",{className:"subtasks-container"},s.a.createElement("h2",{className:"current-task-header"},w),s.a.createElement("div",{className:"add-all-button-container"},s.a.createElement("button",{onClick:()=>{f(!0),g("all")},className:"add-all-button"},"Add All Tasks to Calendar")),t.map((e,a)=>s.a.createElement("div",{key:a,className:"subtask-card"},s.a.createElement("div",{className:"subtask-content"},s.a.createElement("p",{className:"subtask-name"},e[0]),s.a.createElement("p",{className:"subtask-time"},"Estimated time: ",e[1])),s.a.createElement("button",{className:"calendar-button",onClick:()=>(e=>{g(e),D(new Date),f(!0)})(e)},"Add to Calendar"))))),s.a.createElement("div",{className:"right-panel"},s.a.createElement("h3",null,"All Steps"),s.a.createElement("div",{className:"all-tasks-list"},d.map((e,a)=>s.a.createElement("div",{key:a,className:"all-task-item"},s.a.createElement("span",{className:"task-number"},a+1,"."),s.a.createElement("span",{className:"task-name"},e[0]),s.a.createElement("span",{className:"task-duration"},e[1])))))),k&&s.a.createElement("div",{className:"datetime-picker-modal"},s.a.createElement("div",{className:"datetime-picker-content"},s.a.createElement("h3",null,"Select Date and Time"),s.a.createElement(o.a,{value:h,onChange:e=>D(e.toDate()),className:"datetime-picker",inputProps:{placeholder:"Select date and time",readOnly:!0},timeFormat:"hh:mm A",dateFormat:"MMMM D, YYYY",closeOnSelect:!1}),s.a.createElement("div",{className:"datetime-picker-buttons"},s.a.createElement("button",{onClick:()=>"all"===b?(()=>{let e=new Date(h);const a=t.map(a=>{const t=parseInt(a[1]),n={task:a[0],duration:a[1],date:new Date(e),header:w,notified:!1,id:Date.now()+Math.random()};return e=new Date(e.getTime()+60*t*60*1e3),n});i(e=>[...e,...a]),R(a),c([]),f(!1),g(null)})():(()=>{if(!b)return;const e={task:b[0],duration:b[1],date:new Date(h),header:b.header,notified:!1,id:Date.now()};i(a=>[...a,e]),c(e=>e.filter(e=>e[0]!==b[0])),O(e),f(!1),g(null)})(),className:"confirm-btn"},"Confirm"),s.a.createElement("button",{onClick:()=>f(!1),className:"cancel-btn"},"Cancel")))),s.a.createElement("footer",{className:"app-footer"},s.a.createElement("p",null,"\xa9 2025 StepWise. All rights reserved.")))};t(27);const N=document.getElementById("root");Object(c.createRoot)(N).render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(u,null)))},9:function(e,a,t){e.exports=t.p+"static/media/logo.bfb9d52c.png"}},[[11,1,2]]]);
//# sourceMappingURL=main.45389bb7.chunk.js.map